<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 Mapped</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/exifr/dist/lite.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    
    <!-- App Styles and Scripts -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Home Menu -->
    <div class="home-menu active" id="homeMenu">
        <button class="menu-button map-button" onclick="showSection('map')">
            <div class="menu-icon">üìç</div>
            <div>Map Photos</div>
        </button>
        <button class="menu-button stats-button" onclick="showSection('stats')">
            <div class="menu-icon">üìä</div>
            <div>Statistics</div>
        </button>
        <button class="menu-button share-button" onclick="showSection('share')">
            <div class="menu-icon">üì§</div>
            <div>Share</div>
        </button>
        <button class="menu-button about-button" onclick="showSection('about')">
            <div class="menu-icon">‚ÑπÔ∏è</div>
            <div>About</div>
        </button>
    </div>

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <h2>Processing Photos...</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="loading-status" id="loadingStatus">Starting...</div>
        </div>
    </div>

    <!-- Map Section -->
    <section class="app-section" id="mapSection">
        <header class="section-header">
            <h1>Your Photo Journey</h1>
            <button class="back-button" onclick="showHome()">‚Üê Back</button>
        </header>
        
        <div class="upload-area">
            <input type="file" id="photoInput" multiple accept="image/*" style="display: none;">
            <button class="upload-button" onclick="document.getElementById('photoInput').click()">
                Select Photos from 2024
            </button>
            <p class="upload-hint">Choose photos with location data to map your journey</p>
        </div>

        <div class="stats-summary" id="statsSummary" style="display: none;">
            <div class="stat-item">
                <span class="stat-value" id="photoCount">0</span>
                <span class="stat-label">Photos</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="locationCount">0</span>
                <span class="stat-label">Locations</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="distanceCount">0 km</span>
                <span class="stat-label">Distance</span>
            </div>
        </div>

        <div id="map" style="display: none;"></div>
        
        <div class="map-controls" id="mapControls" style="display: none;">
            <button onclick="centerMap()">Center</button>
            <button onclick="fitBounds()">Fit All</button>
        </div>
    </section>

    <!-- Statistics Section -->
    <section class="app-section" id="statsSection">
        <header class="section-header">
            <h1>Journey Statistics</h1>
            <button class="back-button" onclick="showHome()">‚Üê Back</button>
        </header>
        
        <div class="stats-container" id="statsContainer">
            <div class="no-data">
                <p>Upload photos first to see your journey statistics</p>
            </div>
        </div>
    </section>

    <!-- Share Section -->
    <section class="app-section" id="shareSection">
        <header class="section-header">
            <h1>Share Journey</h1>
            <button class="back-button" onclick="showHome()">‚Üê Back</button>
        </header>
        
        <div class="share-container">
            <div class="share-preview" id="sharePreview">
                <div class="no-data">
                    <p>Upload photos to generate a shareable summary</p>
                </div>
            </div>
            <button class="share-button" id="shareButton" onclick="shareJourney()" disabled>
                Share My Journey
            </button>
        </div>
    </section>

    <!-- About Section -->
    <section class="app-section" id="aboutSection">
        <header class="section-header">
            <h1>About 2025 Mapped</h1>
            <button class="back-button" onclick="showHome()">‚Üê Back</button>
        </header>
        
        <div class="about-content">
            <h3>Privacy First</h3>
            <p>All photo processing happens locally in your browser. No photos are uploaded to servers.</p>
            
            <h3>How It Works</h3>
            <p>Select photos from 2024 that have location data (GPS coordinates). The app will extract this data and plot your journey on a map.</p>
            
            <h3>Requirements</h3>
            <p>Photos must have been taken with location services enabled on your device to include GPS coordinates.</p>
        </div>
    </section>

    <!-- Notifications -->
    <div class="notification" id="notification"></div>

    <script src="app.js"></script>
</body>
</html>